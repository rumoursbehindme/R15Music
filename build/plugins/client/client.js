'use strict';const _0x2a8283=_0x1ba3;function _0x2407(){const _0x2701e9=['defineProperty','12bfRFzq','764350yRNDTy','Issuer','fastify-plugin','info','SeXOw','WpMBX','openid-client','Client','discover','https://accounts.spotify.com','__esModule','Registered\x20Client\x20Plugin.','oauthCallback','183914BJygil','default','redirect_uri','code','7ldUwiu','__importDefault','5470840cTnteb','authorizationUrl','handleCallback','70qtqldm','540927mTJJCL','3eeQfeH','24307459CEXnsQ','DVzIp','7703166qSCVLE','353799OcwlVG','decorate','log','state'];_0x2407=function(){return _0x2701e9;};return _0x2407();}(function(_0x3c140c,_0x5efb57){const _0x1a4f78=_0x1ba3,_0x9ec78d=_0x3c140c();while(!![]){try{const _0xd35b76=parseInt(_0x1a4f78(0x1e1))/0x1*(parseInt(_0x1a4f78(0x1d6))/0x2)+-parseInt(_0x1a4f78(0x1e0))/0x3*(parseInt(_0x1a4f78(0x1c8))/0x4)+-parseInt(_0x1a4f78(0x1c9))/0x5+-parseInt(_0x1a4f78(0x1e4))/0x6*(parseInt(_0x1a4f78(0x1da))/0x7)+parseInt(_0x1a4f78(0x1dc))/0x8+-parseInt(_0x1a4f78(0x1e5))/0x9*(parseInt(_0x1a4f78(0x1df))/0xa)+parseInt(_0x1a4f78(0x1e2))/0xb;if(_0xd35b76===_0x5efb57)break;else _0x9ec78d['push'](_0x9ec78d['shift']());}catch(_0x2613da){_0x9ec78d['push'](_0x9ec78d['shift']());}}}(_0x2407,0xdfcb4));var __importDefault=this&&this[_0x2a8283(0x1db)]||function(_0x34ec0b){return _0x34ec0b&&_0x34ec0b['__esModule']?_0x34ec0b:{'default':_0x34ec0b};};Object[_0x2a8283(0x1c7)](exports,_0x2a8283(0x1d3),{'value':!![]});function _0x1ba3(_0x32ef0a,_0x3dc235){const _0x2407d3=_0x2407();return _0x1ba3=function(_0x1ba3aa,_0x194714){_0x1ba3aa=_0x1ba3aa-0x1c5;let _0x238d6e=_0x2407d3[_0x1ba3aa];return _0x238d6e;},_0x1ba3(_0x32ef0a,_0x3dc235);}const openid_client_1=require(_0x2a8283(0x1cf)),fastify_plugin_1=__importDefault(require(_0x2a8283(0x1cb))),clientPlugin=async(_0x3bed07,{issuerOptions:_0x19081b})=>{const _0x5e15ee=_0x2a8283,_0x3c8f3a={'WpMBX':_0x5e15ee(0x1d2),'DVzIp':'oidcClient','pZXzf':'getAuthorizationUrl','RaURZ':_0x5e15ee(0x1de),'SeXOw':_0x5e15ee(0x1d4)},_0x53b442=await openid_client_1[_0x5e15ee(0x1ca)][_0x5e15ee(0x1d1)](_0x3c8f3a[_0x5e15ee(0x1ce)]),_0x31e76c=new _0x53b442[(_0x5e15ee(0x1d0))]({..._0x19081b});_0x3bed07[_0x5e15ee(0x1e6)](_0x3c8f3a[_0x5e15ee(0x1e3)],_0x31e76c),_0x3bed07[_0x5e15ee(0x1e6)](_0x3c8f3a['pZXzf'],async function _0x48bc5b({returnURL:_0x35c7e5}){const _0x4ec740=_0x5e15ee;return _0x31e76c[_0x4ec740(0x1dd)]({..._0x19081b,'state':btoa(JSON['stringify']({'returnURL':_0x35c7e5}))});}),_0x3bed07[_0x5e15ee(0x1e6)](_0x3c8f3a['RaURZ'],async function _0x5f946e(_0x33a35d){const _0x13392e=_0x5e15ee;return _0x31e76c[_0x13392e(0x1d5)](_0x19081b[_0x13392e(0x1d8)],{'code':_0x33a35d[_0x13392e(0x1d9)],'state':_0x33a35d[_0x13392e(0x1c6)]},{'state':_0x33a35d['state']});}),_0x3bed07[_0x5e15ee(0x1c5)][_0x5e15ee(0x1cc)](_0x3c8f3a[_0x5e15ee(0x1cd)]);};exports[_0x2a8283(0x1d7)]=(0x0,fastify_plugin_1[_0x2a8283(0x1d7)])(clientPlugin);